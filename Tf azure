The goal of this Terraform module is to deploy Azure Databricks workspace with secure networking using Private Link, isolating the control and data planes via VNETs and private subnets. It ensures:
	‚Ä¢	Secure communication through private endpoints
	‚Ä¢	Restricted access to Azure services (like storage)
	‚Ä¢	Custom NSGs for traffic control

‚∏ª

üîå NETWORKING STRUCTURE

The module provisions three separate virtual networks:
	1.	Transit VNet (shared or central VNet for routing or peering)
	2.	Data Plane VNet (vnet_dp.tf) ‚Üí where compute resources run (clusters)
	3.	Control Plane VNet is implicit (managed by Azure Databricks)

Each VNet contains multiple subnets, NSGs, and delegation settings.

‚∏ª

üì° Transit VNet (vnet_transit.tf)

This VNet hosts:
	‚Ä¢	transit_public subnet (delegated to Databricks)
	‚Ä¢	transit_private subnet (delegated + private endpoint enabled)
	‚Ä¢	transit_plsubnet (used for private link endpoint for DBFS)
	‚Ä¢	NSG rules for outbound to Azure AD and Azure Front Door

üîó Private Endpoints can be linked to:
	‚Ä¢	Storage accounts
	‚Ä¢	DBFS
	‚Ä¢	Azure Databricks REST API if needed

‚∏ª

üß† Data Plane VNet (vnet_dp.tf)

This is where Databricks compute (clusters) are deployed:
	‚Ä¢	dp_public subnet: assigned to workspaces
	‚Ä¢	dp_private subnet: for private cluster setup
	‚Ä¢	dp_plsubnet: for private endpoints
	‚Ä¢	Each subnet has delegations to Microsoft.Databricks/workspaces
	‚Ä¢	Private endpoint network policies are enabled for security

üîê NSG Rules:
	‚Ä¢	Allow outbound to AzureActiveDirectory for authentication
	‚Ä¢	Allow outbound to AzureFrontDoor.Frontend (required by control plane)

‚∏ª

üîí Private Endpoints (private_dns_zone_*.tf)

These files define:
	‚Ä¢	Private endpoints for Azure resources like:
	‚Ä¢	Azure Blob/File Storage (for DBFS)
	‚Ä¢	Azure Relay (if used)
	‚Ä¢	Azure Databricks REST APIs (optional)
	‚Ä¢	Private DNS zones mapped correctly (e.g. privatelink.blob.core.windows.net)
	‚Ä¢	Records for name resolution from inside VNets

‚∏ª

üîÑ WORKFLOW / LINKAGE

1. VNet/Subnet Creation
	‚Ä¢	Transit and Data Plane VNets with proper subnets (vnet_transit.tf, vnet_dp.tf)

2. NSGs
	‚Ä¢	Attached to subnets using azurerm_network_security_group_association
	‚Ä¢	Custom rules to allow required traffic

3. Private Endpoints
	‚Ä¢	Created via azurerm_private_endpoint
	‚Ä¢	Pointing to:
	‚Ä¢	DBFS
	‚Ä¢	Azure Blob for workspace storage
	‚Ä¢	(Optional) Azure Relay or other services
	‚Ä¢	Bound to private_dns_zone_*.tf

4. Databricks Workspace
	‚Ä¢	databricks_workspace.tf provisions the workspace and links it to:
	‚Ä¢	Data plane subnet (dp_private or dp_public)
	‚Ä¢	Private endpoint subnets
